<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ticket</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.2/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {},
        },
      };
    </script>
    
    <style>
     
      .emoji {
        display: inline-block;
        font-size: 18px;
        color: #000000;
        transform: rotate(270deg);
      }
    </style>
  </head>
  <body class="bg-white-100">

    <nav class="bg-white-200 mb-3" style="background-color: #F8F8F8;"> 
      <div class="flex  items-center justify-between mx-[8px] border-b">
          <div class="flex items-center  nav-container text-[14px] text-[#777777] font-normal ">
              <div class="hidden md:flex space-x-2" id="nav">
                <a href="admin_panel.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Users</a>
                <a href="order.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Orders</a>
                <a href="subscription.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Subscription</a>
                <a href="task.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit"><span class="inline-block"><p>Tasks <span style="border-radius: 15px; background-color: #F0AD4E; font-weight: 700; line-height: 1; color: white; padding: 2px 7px; font-size: 12px;">0</span></p></span></a>
                <a href="service.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Services</a>
                <a href="tickets.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit"><span class="inline-block"><p>Tickets <span class="px-2 py-1" style="border-radius: 10px; padding: 2px 7px; color: white; background-color: #F0AD4E; font-weight: 700; font-size: 12px;">0</span></p></span></a>
                <a href="report.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Reports</a>
                <a href="affiliatepage.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Affiliates</a>
                <a href="appearance.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Appearance</a>
                <a href="Setting.html" class="hover:bg-[#E7E7E7] py-[15px] px-3 h-fit">Settings</a>
              </div>
          </div>
          <div class="flex items-center gap-8 mr-[10px]">
              <a href="#" class="text-white-700 hover:text-white-900 bell-wrapper">
                  <i class="fas fa-bell"></i>
                  <span class="notification-dot"></span>
              </a>
              <a href="#" class="text-white-700 hover:text-white-900"><i class="fas fa-moon" style="color: #6d6c6c;"></i></a>
              <div class="flex items-center">
                <a href="#" class="icon-circle text-white-700 hover:text-white-900" style="color: #F8F8F8;">
                    <i class="bi bi-person relative top-0  text-gray-500 right-2 text-[#F8F8F8] bg-[#F8F8F8]" style=" bottom: 12px; "></i>            
                </a>   
                <div class="dropdown">
                    <i class="fas fa-sort-down cursor-pointer text-black text-[12px]" onclick="toggleDropdown()"></i>
              </div>
              </div>
            </div>
  </nav>

    <div class="mt-3 pl-5 pr-5">
      <div class="mb-3 gap-4 lg:flex justify-between items-center">
        <div>
          <div
            id="addTicketBtn"
            class="btn hover:bg-[#E6E6E6] border border-[#cccccc] rounded-[5px] text-[13.5px] py-[8px] md:py-[6px] px-[12px] bg-[#ffffff] hover:text-black cursor-pointer"
          >
            Add Ticket
          </div>
        </div>

        <div class="md:flex md:items-center md:gap-4">
          <a href="#" class="text-[14px] text-[#337AB7] cursor-pointer">Show unread</a>
          <div class="flex items-center md:ml-auto relative mt-3 md:mt-0">
            <input
              placeholder="Search Tickets"
              style="
                border-radius: 4px;
                text-align: start;
                font-size: 14px;
                border: 1px solid #cccccc;
                padding: 6px 16px;
              "
            />
            <select
              class="form-control border border-[#cccccc] py-[8px] px-3 rounded-[4px] text-[#555555] text-[14px]"
              name="search-type cursor-pointer"
            >
              <option value="1">Ticket ID</option>
              <option value="2">Link</option>
              <option value="3">Username</option>
              <option value="4">Type</option>
              <option value="5">Service id</option>
              <option value="6">Task id</option>
            </select>
            <i
              style="font-size: 15px; color: #999"
              class="fas fa-search border border-[#cccccc] py-[10px] rounded-[4px] cursor-pointer px-[8px]"
            ></i>
          </div>
        </div>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full bg-white border-collapse border border-gray-300">
          <thead>
            <tr class="bg-gray-50">
              <th
                class="border-b border-white-300 w-[50px] pl-2 text-left text-[14px] py-3"
              >
                <div
                  class="border border-[#E6E6E6] w-5 flex justify-center items-center py-[6px] px-3 rounded-[4px]"
                >
                  <input type="checkbox" class="cursor-pointer" />
                </div>
              </th>
              <th
                class="border-b border-white-300 w-[100px] p-0 pt-2 pb-1 text-xs lg:text-[14px] text-left whitespace-nowrap w-[70px]"
              >
                ID
              </th>
              <th
                class="border-b whitespace-nowrap border-white-300 w-[15%] p-0 pt-2 pb-1 text-xs lg:text-[14px] text-left"
              >
                User
              </th>
              <th
                class="border-b border-white-300 w-[15%]  p-0 pt-2 w-fit pb-1 text-xs lg:text-[14px] text-left"
              >
                Subject
              </th>

              <th
              class="border-b border-white-300 text-start w-[130px] p-0 pt-2 pb-1 text-xs lg:text-[14px]"
            >
              <div
                class="flex justify-start items-center pl-4 gap-1 h-7 text-black text-[13.5px] border-[#c9c9c9] text-black border border-[#cccccc] w-[80px] rounded-[4px] cursor-pointer"
                id="statusHeader"
              >
                <span>Status</span>
                <i class="fas fa-sort-down pb-1"></i>
              </div>
              <div class="absolute hidden bg-white border border-gray-300 mt-1 w-40 rounded-md shadow-lg" id="statusDropdown">
                <!-- Dropdown content -->
                <ul class="py-1">
                  <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">All</li>
                  <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">Pending</li>
                  <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">Answered</li>
                </ul>
              </div>
            </th>

            <th
            class="border-b border-white-300 text-start w-[100px] p-0  pt-2 pb-1 text-xs lg:text-[14px]"
          >
            <div
              class="flex justify-center items-center gap-1 h-7 text-black text-[13.5px] border-[#c9c9c9] text-black border border-[#cccccc] w-[90px] rounded-[4px] cursor-pointer"
              id="assigneHeader"
            >
              <span>Assigne</span>
              <i class="fas fa-sort-down pb-1"></i>
            </div>
            <div class="absolute hidden bg-white border border-gray-300 mt-1 w-40 rounded-md shadow-lg" id="assigneDropdown">
              <!-- Dropdown content -->
              <ul class="py-1">
                <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">All</li>
                <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">Admin</li>
                <li class="cursor-pointer px-4 py-2 hover:bg-gray-100">Developer</li>
              </ul>
            </div>
          </th>

              <th
                class="border-b whitespace-nowrap w-[200px] text-start border-white-300 p-0 w-[150px] pt-2 pb-1 text-xs lg:text-[14px]"
              >
                Created
              </th>

              <th
                class="border-b border-white-300 whitespace-nowrap p-0 pt-2 pb-1 text-xs lg:text-[14px] w-[120px] text-start"
              >
                Last Update
              </th>

              <th
                class="border-b border-white-300 p-0 pt-2 pb-1 xl:text-end pr-0 xl:pr-4"
              ></th>
            </tr>
          </thead>

          <tbody id="table-body">
            <!-- dynamicaly data row -->
          </tbody>
        </table>
      </div>

      <!-- add ticket modal -->
      <div
        id="ticketModal"
        class="fixed inset-0 flex items-center justify-center hidden bg-black bg-opacity-50"
      >
        <div class="bg-white w-full max-w-md p-5 rounded-lg shadow-lg">
          <h2 class="text-xl font-medium mb-4 pb-4 border-b border-b-gray-300">
            Add Ticket
          </h2>
          <form id="addTicketForm">
            <div class="mb-4">
              <label
                for="username"
                class="block text-sm font-medium text-gray-700"
                >Username</label
              >
              <input
                type="text"
                id="username"
                name="username"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
                required
              />
            </div>
            <div class="mb-4">
              <label
                for="subject"
                class="block text-sm font-medium text-gray-700"
                >Subject</label
              >
              <input
                type="text"
                id="subject"
                name="subject"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"
                required
              />
            </div>
            <div class="mb-4 border-b border-b-gray-300 pb-4">
              <label
                for="message"
                class="block text-sm font-medium text-gray-700"
                >Message</label
              >
              <textarea
                id="message"
                name="message"
                class="mt-1 block w-full min-h-[150px] border border-gray-300 rounded-md shadow-sm p-2"
                required
              ></textarea>
            </div>
            <div class="flex justify-start gap-2">
              <button
                type="submit"
                class="bg-[#337AB7] text-white py-2 px-4 rounded text-[14px]"
              >
                Add Ticket
              </button>
              <button
                type="button"
                id="cancelBtn"
                class="bg-gray-200 hover:bg-gray-300 text-[14px] text-gray-700 py-2 px-4 rounded"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>

      <script>
        document
          .getElementById("addTicketBtn")
          .addEventListener("click", function () {
            document.getElementById("ticketModal").classList.remove("hidden");
          });

        document
          .getElementById("cancelBtn")
          .addEventListener("click", function () {
            document.getElementById("ticketModal").classList.add("hidden");
          });

        document
          .getElementById("addTicketForm")
          .addEventListener("submit", function (e) {
            e.preventDefault();
            const username = document.getElementById("username").value;
            const subject = document.getElementById("subject").value;
            const message = document.getElementById("message").value;

            document.getElementById("ticketModal").classList.add("hidden");

            // Reset the form
            document.getElementById("addTicketForm").reset();
          });
        const data = [

        ];

        function createRow(data) {
          return `
              <tr>
                  <td class="border-b border-gray-300  w-[50px]  pl-2    text-left py-3">
                      <div class="w-5 flex justify-center items-center py-[6px] px-3 rounded-[4px]">
                          <input type="checkbox" class="cursor-pointer">
                      </div>
                  </td>
                  <td class="border-b w-[70px] border-gray-300 w-[100px] p-0 pt-2 pb-1  text-left text-xs lg:text-[14px]">${data.id}</td>
                  <td class="border-b border-gray-300 p-0 pt-2 pb-1 w-[15%] text-left text-xs lg:text-[14px]" >${data.service}</td>
                   
                  <td class="border-b border-gray-300 p-0 pt-2  w-[25%] pb-1  text-xs lg:text-[14px] " >
                    ${data.orderId}
                    </td>
                 
                 
                   <td class="border-b border-gray-300 p-0 pt-2 pb-1   text-xs lg:text-[14px]  text-start" >${data.max}</td>
                 <td class="border-b   border-gray-300 p-0  w-[90px]  pt-2 pb-1  text-xs lg:text-[14px]" >${data.maxValue}</td>
                  <td class="border-b border-gray-300 w-[200px]    p-0 pt-2 pb-1  text-xs lg:text-[14px]" >${data.min}</td>
                
                
                     <td class="border-b border-gray-300 p-0 pt-2 pb-1  whitespace-nowrap   text-xs lg:text-[14px]" >
                    
                      
                      ${data.mode}
                     
                    </td>
                  <td class="border-b border-gray-300 text-end xl:text-end pr-0 xl:pr-4 w-4">
                      <div
            class="flex items-center  gap-1 border rounded-[4px] px-[5px] text-black text-[13.5px] border-[#c9c9c9] bg-[#ffffff] text-black hover:bg-[#E6E6E6]"
          >
            <i class="fas fa-sort-down pb-1 cursor-pointer"></i>
          </div>
                  </td>
              </tr>
          `;
        }

        // Insert rows into the table
        const tbody = document.getElementById("table-body");
        data.forEach((rowData) => {
          tbody.innerHTML += createRow(rowData);
        });

        const statusDropdown = document.getElementById('statusDropdown');
    const assigneDropdown = document.getElementById('assigneDropdown');

    // Toggle visibility on status header click
    document.getElementById('statusHeader').addEventListener('click', function (event) {
      event.stopPropagation();
      if (statusDropdown.classList.contains('hidden')) {
        assigneDropdown.classList.add('hidden');
        statusDropdown.classList.remove('hidden');
      } else {
        statusDropdown.classList.add('hidden');
      }
    });

    // Toggle visibility on assigne header click
    document.getElementById('assigneHeader').addEventListener('click', function (event) {
      event.stopPropagation();
      if (assigneDropdown.classList.contains('hidden')) {
        statusDropdown.classList.add('hidden');
        assigneDropdown.classList.remove('hidden');
      } else {
        assigneDropdown.classList.add('hidden');
      }
    });

    // Close dropdowns on click outside
    document.addEventListener('click', function (event) {
      if (!event.target.closest('#statusHeader') && !event.target.closest('#assigneHeader')) {
        statusDropdown.classList.add('hidden');
        assigneDropdown.classList.add('hidden');
      }
    });
      </script>
    </div>
  </body>
</html>
